## 一、参与对象

```
1.用户⭐usager
2.管理员⭐administrateur
3.物品⭐articles
```

## 二、数据库对象所具备的属性

```
1.用户：id（学号）、密码password、姓名name、性别sex、联系电话phone、校区（英才，龙子湖，北林）schoolPosition、状态status、本人学生卡照片avator
2.管理员：id（学号）、密码password、姓名name、联系电话phone、账号状态status
3.物品：id（物品号）、名称name、捡到时间time、捡到地点（此处可以考虑让用户做选择题而非填空题，选项包括校区，然后更加具体为路上，abews楼，图书馆，餐厅，寝室，澡堂，其他）、捡到者id(takerId)，主人id(owner)，照片名称avator，状态status
```

## 三、使用到的技术

```
SpringBoot、Mybatis、MySQL、Session,Tomcat,Servlet、HTML、JavaScript、CSS
```

## 四、各个类存在的所有状态

```
⭐用户：1正常态（可使用属于用户的所有功能）、2审核态（不可以进行失物认领操作）、3停用态（管理员操作的无法登录），4注销态（用户自己的操作无法登录），5审核失败态（不允许登录，需要重新注册）
⭐管理员：6高级管理员（管理一般管理员）、2一般管理员（管理用户）（可查看所有用户信息，修改用户状态）、3停用态（无法登录管理平台）
⭐物品：1丢失态（无人捡到）、2等待认领态（捡到但无人认领）、3物归原主态
用户在添加物品信息时，需要考虑到其身份：捡到者还是丢失者。然后进行对应的状态更新
用户的账号只要不是停用态注销态都可以正常登录
管理员可以看到所有用户的账号信息，所有的物品信息
但是用户只能看到尚未物归原主的物品信息
ps：不同状态前面的数字是其映射形态---即对应的代码表达
```

## 五、不同的主体可以完成的功能

对于管理员：

```
1.先登录，如果系统中还没有相关账号信息，可由高级程序员进行注册
2.查看当前管理员个人信息，这里并不提供个人修改功能，因为管理员信息的增加是由高级管理员进行操作的
3.查看所有待审核用户信息，进行“通过”和“打回”操作
4.查看所有物品信息
5.高级管理员可另外查看所有一般管理员信息，并对其进行增加、注销和恢复操作
```

对于用户：

```
1.先登录，或者先注册再登录。注册完后，在未经管理员审核的情况下，用户尚不能进行失物认领操作。在账户被冻结的情况下，用户无法登录
2.查看被捡到的物品，查看待物归原主的物品
3.根据条件进行物品搜索（名字、丢失时间、丢失地点）
4.失物认领前需要留下认领者id并返回捡到者联系方式
5.给失物信息提供线索需要留下捡到者id并返回主人联系方式
6.对本人账号的查看、修改和注销操作
```

页面存在因素的补充：联系方式、赞助我们，关于我们，加入我们

## 六、功能接口

```
⭐对于文件的操作：/common
1.文件上传：/upload
2.文件下载：/download
⭐对于用户的操作：/usager
1.登录：/login。前端传来用户输入的账号，密码信息。后端根据id（账号）查找数据库，返回的信息考虑账号不存在，密码不正确，账号注销，账号停用这四种情况。如果账号密码都正确，则返回该账号对应的名字
2.登出：/logout。清除session数据。
3.注册：/enregister。注册账号页面，用户需要填写（⭐学号，姓名，性别，电话，密码，校区⭐）等相关信息。用户提交个人信息后进行判定，如果id已经存在于数据库，则注册失败，如果查找到账号状态为注销态，则变动其状态信息，让管理员进行重新审核。如果数据库不存在该id信息，那么注册成功！
4.修改用户信息：/updateUsager。用户可以对姓名，性别，电话，校区进行更改。对于密码的修改可另外设置一个弹窗，用另一个7请求完成
5.根据id查看个人信息：/selectById
6.修改用户状态：/modifyStatus。这里指的是用户可以自行注销账号操作以及管理员对该账号进行停用操作。
7.修改密码：/changePassword。用户提供原密码和新密码。
⭐对于管理员的操作：/administrateur
1.获取所有管理员信息（给高级管理员使用）：/getData。方法：get
2.新增数据（给高级管理员使用）：/saveData。方法post，参数包括新增的管理员信息
3.更新数据：/updateData。方法：post。提供修改后的数据，并把修改前的数据一并封装好发送到后端。
4.删除管理员信息（高级管理员操作）：/deleteByHa。方法：delete。参数包括要删除的管理员id。
5.根据条件查找数据：/selectByConditions。姓名或者学号
6.登录：/login。方法post
7.登出：/logout。方法post
8.恢复管理员账号状态（给高级管理员进行使用）：/restore。方法：put，提供所要恢复的管理员id
9.获取所有用户信息：/allUsagers。方法get
10.审核通过用户信息：/passUsagerInfo。方法：get，前端提供用户id
11.驳回用户信息：/backUsagerInfo。方法：get，前端提供用户id
12.停用用户账号：/stopUsagerAccount。方法：get，前端提供用户id
13.筛选出所有待审核用户账号：/allUsagerForChecking，方法：get
⭐对于物品的操作：/articles
1.新增失物信息（从捡到人员角度）：/saveArticlesByTaker。方法post。参数捡到者id
2.新增失物信息（从失主角度）：/saveArticlesByOwner。方法post
3.根据条件查找失物⭐：/selectArticlesByConditions。方法post。这里前端在做地点信息收集时，应该设置校区和校内地址的选项，最后把这两个信息拼接到一起作为地点信息传回后端。校区分为英才校区，龙子湖校区，北林校区。地点包括（寝室，澡堂，图书馆，路上，餐厅，AB楼，其他）
4.根据物品状态给物品分类：/selectArticlesByStatus。方法get
5.显示所有记录在案的失物信息（给管理员使用）：selectAllArticles。方法get
6.失物认领：/findOwner。方法：get。这里前端直接调用此方法即可，但是要注意传过来一个物品的id作为参数，后台会自行判定此物品需要执行“找到拾者”或“找到失主”两种操作
7.查看已经找到的物品信息：/allArticlesByFind。方法get
8.查看无人认领的物品信息：/allArticlesByTake。方法get
9.查看丢失中的物品信息：/allArticlesByLost。方法get
10.查看用户上传的丢失中物品信息：/myLost。方法get
11.查看用户上传的所捡到的物品信息：/myUpload。方法get
12.查看用户所认领的物品信息：/myClaim。方法get
13.取消认领：/cancelClaim。方法get
14.删除“我丢失的”物品信息：/deleteMyLost。方法delete
15.删除“我上传的”物品信息：/deleteMyUpload。方法delete
```

## 七、返回体数据结构

```json
{
    "code" : "",（1成功0失败）
    "msg" : "",（成功或失败的原因）
    "data" : ""（成功或失败返回的数据内容）
}
```

